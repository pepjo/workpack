<table cellspacing="0" class="dataList">
  <tr>
    <th>Borra</th>
    <th>Codi</th>
    <th>Nom</th>
  </tr>
  {{#each group}}
    <tr key="{{this.id}}" class="row">
      <td class="del">x</td>
      <td>{{this.code}}</td>
      <td>{{this.name}}</td>
    </tr>
  {{/each}}
</table>

<script>
$('.row').each((key, item) => {
  $(item).on('click', 'td.del', (event) => {
    event.stopPropagation()
    const res = confirm('This action will delete this object AND ALL IT\'S DEPENDENTS')
    if (res) {
      location.href = `/del/group/${item.getAttribute('key')}${location.search}`
    }
  })
  $(item).on('click', () => { location.href = `/add/group/${item.getAttribute('key')}${location.search}` })
})
</script>
